<template>
    <div class="p-component">    
        <h2>Login</h2>
        <form v-on:submit="login">
            <input type="text" name="email" /><br>
            <input type="password" name="password" /><br>
            <input type="submit" value="Login" />
        </form>
    </div>
</template>

<script>
    import router from "../router"
    import axios from "axios"
    export default {
        name: "Login",
        methods: {
            login: (e) => {
                e.preventDefault()
                let email = "user@email.com"
                let password = "password"
                let login = () => {
                    let data = {
                        email: email,
                        password: password
                    }
                    axios.post("/api/login", data)
                        .then((response) => {
                            console.log("Logged in")
							console.log(response);
                            router.push("/dashboard")
                        })
                        .catch((errors) => {
                            console.log("Cannot log in")
							console.log(errors);
                        })
                }
                login()
            }
        }
    }
</script>
